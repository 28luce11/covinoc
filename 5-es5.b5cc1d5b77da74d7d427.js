!function(){function t(e,n){return(t=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(e,n)}function e(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var c,o=i(t);if(e){var r=i(this).constructor;c=Reflect.construct(o,arguments,r)}else c=o.apply(this,arguments);return n(this,c)}}function n(t,e){return!e||"object"!=typeof e&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}function r(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{fkyj:function(n,i,o){"use strict";o.r(i),o.d(i,"TaskModule",(function(){return J}));var a=o("ofXK"),s=o("PCNd"),u=o("tyNb"),l=o("XNiG"),b=o("xgIS"),h=o("1G5W"),f=o("7o/Q"),p=o("D0XW"),d=function(){function t(e,n){c(this,t),this.dueTime=e,this.scheduler=n}return r(t,[{key:"call",value:function(t,e){return e.subscribe(new g(t,this.dueTime,this.scheduler))}}]),t}(),g=function(n){!function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),n&&t(e,n)}(o,n);var i=e(o);function o(t,e,n){var r;return c(this,o),(r=i.call(this,t)).dueTime=e,r.scheduler=n,r.debouncedSubscription=null,r.lastValue=null,r.hasValue=!1,r}return r(o,[{key:"_next",value:function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(O,this.dueTime,this))}},{key:"_complete",value:function(){this.debouncedNext(),this.destination.complete()}},{key:"debouncedNext",value:function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}},{key:"clearDebounce",value:function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}]),o}(f.a);function O(t){t.debouncedNext()}var v,k=o("lJxs"),C=o("/uUt"),P=o("HFJ6"),y=o("fXoL"),_=o("IheW"),M=((v=function(){function t(e){c(this,t),this.http=e,this.baseUrl="https://608adc0d737e470017b7410f.mockapi.io/api/v1/todos"}return r(t,[{key:"getTasks",value:function(){return this.http.get(this.baseUrl)}},{key:"updateTask",value:function(t,e){return this.http.put("".concat(this.baseUrl,"/").concat(t),{state:e})}},{key:"deleteTask",value:function(t){return this.http.delete("".concat(this.baseUrl,"/").concat(t))}},{key:"saveTask",value:function(t){return this.http.post(this.baseUrl,t)}}]),t}()).\u0275fac=function(t){return new(t||v)(y.Wb(_.a))},v.\u0275prov=y.Fb({token:v,factory:v.\u0275fac,providedIn:"root"}),v),m=o("/bJP"),w=o("qdq9"),x=o("G0yt"),T=["searchInput"],N=function(t){return{"font-line":t}};function S(t,e){if(1&t){var n=y.Pb();y.Ob(0,"tr"),y.Ob(1,"td",22),y.wc(2),y.Nb(),y.Ob(3,"td",23),y.wc(4),y.Nb(),y.Ob(5,"td",24),y.Ob(6,"input",25),y.Zb("change",(function(t){y.oc(n);var i=e.$implicit;return y.bc().checkboxChange(i,t.target.checked)})),y.Nb(),y.Nb(),y.Ob(7,"td",26),y.Ob(8,"i",27),y.Zb("click",(function(){y.oc(n);var t=e.$implicit;return y.bc().deleteTask(t.id)})),y.Nb(),y.Nb(),y.Nb()}if(2&t){var i=e.$implicit;y.xb(2),y.xc(i.id),y.xb(1),y.gc("ngClass",y.jc(4,N,i.state)),y.xb(1),y.xc(i.title),y.xb(2),y.gc("checked",i.state)}}function j(t,e){1&t&&y.Kb(0,"i",28)}function I(t,e){1&t&&y.Kb(0,"i",29)}var F,z,$,V=[{path:"",component:(F=function(){function t(e,n){c(this,t),this.servicesTask=e,this.toastService=n,this.destroy$=new l.a,this.resetFormSubject$=new l.a,this.page=1,this.pageSize=4}return r(t,[{key:"ngOnInit",value:function(){this.getTasks()}},{key:"ngAfterViewInit",value:function(){this.searchInputEventInit()}},{key:"ngOnDestroy",value:function(){this.destroy$.next(),this.destroy$.complete()}},{key:"checkboxChange",value:function(t,e){var n=this;this.servicesTask.updateTask(t.id,e).subscribe((function(e){t.state=e.state,n.toastService.showSuccess(P.a.update)}),(function(){n.toastService.showFail()}))}},{key:"deleteTask",value:function(t){var e=this;this.servicesTask.deleteTask(t).subscribe((function(t){var n=e.tasks.findIndex((function(e){return e.id===t.id}));e.tasks.splice(n,1),e.filterByCriteria(e.searchCriteria),e.toastService.showSuccess(P.a.delete)}),(function(){e.toastService.showFail()}))}},{key:"saveTask",value:function(t){var e=this;this.servicesTask.saveTask(t).subscribe((function(t){e.resetFormSubject$.next(!0),e.tasks.push(t),e.filterByCriteria(e.searchCriteria),e.toastService.showSuccess(P.a.add)}),(function(){e.toastService.showFail()}))}},{key:"refreshTask",value:function(){this.filteredTasks=this.filteredSearchTasks.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}},{key:"getTasks",value:function(){var t=this;this.servicesTask.getTasks().subscribe((function(e){t.tasks=e,t.filteredSearchTasks=e,t.refreshTask()}),(function(){t.toastService.showFail()}))}},{key:"searchInputEventInit",value:function(){var t=this;Object(b.a)(this.searchInput.nativeElement,"keyup").pipe(Object(h.a)(this.destroy$),function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.a;return function(n){return n.lift(new d(t,e))}}(250),Object(k.a)((function(t){return t.target.value})),Object(C.a)()).subscribe((function(e){t.searchCriteria=e,t.filterByCriteria(e)}))}},{key:"filterByCriteria",value:function(t){this.filteredSearchTasks=t?this.tasks.filter((function(e){return e.title.toLowerCase().includes(t.toLowerCase())})):this.tasks,this.refreshTask()}}]),t}(),F.\u0275fac=function(t){return new(t||F)(y.Jb(M),y.Jb(m.a))},F.\u0275cmp=y.Db({type:F,selectors:[["app-task"]],viewQuery:function(t,e){var n;1&t&&y.Ac(T,!0),2&t&&y.mc(n=y.ac())&&(e.searchInput=n.first)},decls:33,vars:7,consts:[[3,"resetForm","createNewTask"],[1,"container"],[1,"row","title-search"],[1,"col-12","col-md-6","title-list"],[1,"title"],[1,"bi","bi-card-checklist"],[1,"col-12","col-md-6","search"],[1,"input-group"],["type","text","placeholder","Buscar...",1,"form-control"],["searchInput",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","btn-button"],[1,"bi","bi-search"],[1,"row"],[1,"col-12","table-task"],[1,"table","table-striped"],["scope","col",1,"table-title"],[4,"ngFor","ngForOf"],[1,"pagination"],[3,"collectionSize","page","maxSize","rotate","pageSize","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["scope","row",1,"text-center","table-elements"],[1,"table-elements","title",3,"ngClass"],[1,"table-select","table-elements"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"table-icon","table-elements"],[1,"bi","bi-trash","delete",3,"click"],[1,"bi","bi-chevron-left"],[1,"bi","bi-chevron-right"]],template:function(t,e){1&t&&(y.Ob(0,"app-add-task",0),y.Zb("createNewTask",(function(t){return e.saveTask(t)})),y.Nb(),y.Ob(1,"div",1),y.Ob(2,"div",2),y.Ob(3,"div",3),y.Ob(4,"span",4),y.Kb(5,"i",5),y.wc(6," Lista de tareas "),y.Nb(),y.Nb(),y.Ob(7,"div",6),y.Ob(8,"div",7),y.Kb(9,"input",8,9),y.Ob(11,"div",10),y.Ob(12,"button",11),y.Kb(13,"i",12),y.Nb(),y.Nb(),y.Nb(),y.Nb(),y.Nb(),y.Ob(14,"div",13),y.Ob(15,"div",14),y.Ob(16,"table",15),y.Ob(17,"thead"),y.Ob(18,"tr"),y.Ob(19,"th",16),y.wc(20,"Id"),y.Nb(),y.Ob(21,"th",16),y.wc(22,"Mis tareas"),y.Nb(),y.Ob(23,"th",16),y.wc(24,"Completada"),y.Nb(),y.Ob(25,"th",16),y.wc(26,"Borrar"),y.Nb(),y.Nb(),y.Nb(),y.Ob(27,"tbody"),y.uc(28,S,9,6,"tr",17),y.Nb(),y.Nb(),y.Ob(29,"div",18),y.Ob(30,"ngb-pagination",19),y.Zb("pageChange",(function(t){return e.page=t}))("pageChange",(function(){return e.refreshTask()})),y.uc(31,j,1,0,"ng-template",20),y.uc(32,I,1,0,"ng-template",21),y.Nb(),y.Nb(),y.Nb(),y.Nb(),y.Nb()),2&t&&(y.gc("resetForm",e.resetFormSubject$.asObservable()),y.xb(28),y.gc("ngForOf",e.filteredTasks),y.xb(2),y.gc("collectionSize",null==e.filteredSearchTasks?null:e.filteredSearchTasks.length)("page",e.page)("maxSize",3)("rotate",!0)("pageSize",e.pageSize))},directives:[w.a,a.j,x.b,x.e,x.d,a.i],styles:[".container[_ngcontent-%COMP%]{padding:15px}.container[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{padding-bottom:15px;color:#4b9f8e;font-weight:700;text-align:center}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding-bottom:15px}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#01ceb6;border-top-left-radius:30px;border-bottom-left-radius:30px;border-right:none}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .btn-button[_ngcontent-%COMP%]{border-color:#01ceb6;color:#01ceb6;border-top-right-radius:30px;border-bottom-right-radius:30px;border-left:none}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .btn-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{transform:scaleX(-1)}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]{overflow:auto;padding:0}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{color:#4b9f8e;text-align:center}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .font-line[_ngcontent-%COMP%]{text-decoration:line-through}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#707070}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-select[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-select[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{position:relative;margin:0}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-icon[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-icon[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:#f50707;cursor:pointer}.container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{justify-content:center}@media screen and (min-width:768px){.container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]{padding-top:20px}.container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding-right:0}.container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{text-align:left}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-select[_ngcontent-%COMP%]{margin:0;position:relative}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-elements[_ngcontent-%COMP%]{text-align:center}}"]}),F)}],B=(($=function t(){c(this,t)}).\u0275mod=y.Hb({type:$}),$.\u0275inj=y.Gb({factory:function(t){return new(t||$)},imports:[[u.a.forChild(V)],u.a]}),$),J=((z=function t(){c(this,t)}).\u0275mod=y.Hb({type:z}),z.\u0275inj=y.Gb({factory:function(t){return new(t||z)},imports:[[a.b,B,s.a]]}),z)}}])}();