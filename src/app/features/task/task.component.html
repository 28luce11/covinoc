<app-add-task (createNewTask)="saveTask($event)" [resetForm]="resetFormSubject$.asObservable()"></app-add-task>
<div class="container">
    <div class="row title-search">
        <div class="col-12 col-md-6 title-list">
            <span class="title">
                <i class="bi bi-card-checklist"></i>
                Lista de tareas
            </span>
        </div>
        <div class="col-12 col-md-6 search">
            <div class="input-group">
                <input #searchInput type="text" class="form-control" placeholder="Buscar...">
                <div class="input-group-append">
                    <button class="btn btn-outline-secondary btn-button" type="button">
                        <i class="bi bi-search"></i>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <div class="row">
        <div class="col-12 table-task">
            <table class="table table-striped">
                <thead>
                    <tr>
                        <th scope="col" class="table-title">Id</th>
                        <th scope="col" class="table-title">Mis tareas</th>
                        <th scope="col" class="table-title">Completada</th>
                        <th scope="col" class="table-title">Borrar</th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let task of filteredTasks">
                        <td scope="row" class="text-center table-elements">{{task.id}}</td>
                        <td class="table-elements title" [ngClass]="{'font-line': task.state}">{{task.title}}</td>
                        <td class="table-select table-elements">
                            <input type="checkbox" class="form-check-input" [checked]="task.state"
                            (change)="checkboxChange(task, $event.target.checked)" >
                        </td>
                        <td class="table-icon table-elements">
                            <i class="bi bi-trash delete" (click)="deleteTask(task.id)"></i>
                        </td>
                    </tr>
                </tbody>
            </table>
            <div class="pagination">
                <ngb-pagination [collectionSize]="filteredSearchTasks?.length"
                    [(page)]="page"
                    [maxSize]="3"
                    [rotate]="true"
                    [pageSize]="pageSize"
                    (pageChange)="refreshTask()">
                    <ng-template ngbPaginationPrevious>
                        <i class="bi bi-chevron-left"></i>
                    </ng-template>
                    <ng-template ngbPaginationNext>
                        <i class="bi bi-chevron-right"></i>
                    </ng-template>
                </ngb-pagination>
            </div>
        </div>
    </div>
</div>
