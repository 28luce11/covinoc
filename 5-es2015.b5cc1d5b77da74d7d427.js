(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{fkyj:function(t,e,n){"use strict";n.r(e),n.d(e,"TaskModule",(function(){return y}));var s=n("ofXK"),i=n("PCNd"),c=n("tyNb"),a=n("XNiG"),o=n("xgIS"),r=n("1G5W"),b=n("7o/Q"),l=n("D0XW");class h{constructor(t,e){this.dueTime=t,this.scheduler=e}call(t,e){return e.subscribe(new u(t,this.dueTime,this.scheduler))}}class u extends b.a{constructor(t,e,n){super(t),this.dueTime=e,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(d,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:t}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}}clearDebounce(){const t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)}}function d(t){t.debouncedNext()}var g=n("lJxs"),p=n("/uUt"),O=n("HFJ6"),C=n("fXoL"),f=n("IheW");let k=(()=>{class t{constructor(t){this.http=t,this.baseUrl="https://608adc0d737e470017b7410f.mockapi.io/api/v1/todos"}getTasks(){return this.http.get(this.baseUrl)}updateTask(t,e){return this.http.put(`${this.baseUrl}/${t}`,{state:e})}deleteTask(t){return this.http.delete(`${this.baseUrl}/${t}`)}saveTask(t){return this.http.post(this.baseUrl,t)}}return t.\u0275fac=function(e){return new(e||t)(C.Wb(f.a))},t.\u0275prov=C.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var P=n("/bJP"),M=n("qdq9"),_=n("G0yt");const m=["searchInput"],v=function(t){return{"font-line":t}};function x(t,e){if(1&t){const t=C.Pb();C.Ob(0,"tr"),C.Ob(1,"td",22),C.wc(2),C.Nb(),C.Ob(3,"td",23),C.wc(4),C.Nb(),C.Ob(5,"td",24),C.Ob(6,"input",25),C.Zb("change",(function(n){C.oc(t);const s=e.$implicit;return C.bc().checkboxChange(s,n.target.checked)})),C.Nb(),C.Nb(),C.Ob(7,"td",26),C.Ob(8,"i",27),C.Zb("click",(function(){C.oc(t);const n=e.$implicit;return C.bc().deleteTask(n.id)})),C.Nb(),C.Nb(),C.Nb()}if(2&t){const t=e.$implicit;C.xb(2),C.xc(t.id),C.xb(1),C.gc("ngClass",C.jc(4,v,t.state)),C.xb(1),C.xc(t.title),C.xb(2),C.gc("checked",t.state)}}function w(t,e){1&t&&C.Kb(0,"i",28)}function N(t,e){1&t&&C.Kb(0,"i",29)}const T=[{path:"",component:(()=>{class t{constructor(t,e){this.servicesTask=t,this.toastService=e,this.destroy$=new a.a,this.resetFormSubject$=new a.a,this.page=1,this.pageSize=4}ngOnInit(){this.getTasks()}ngAfterViewInit(){this.searchInputEventInit()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}checkboxChange(t,e){this.servicesTask.updateTask(t.id,e).subscribe(e=>{t.state=e.state,this.toastService.showSuccess(O.a.update)},()=>{this.toastService.showFail()})}deleteTask(t){this.servicesTask.deleteTask(t).subscribe(t=>{const e=this.tasks.findIndex(e=>e.id===t.id);this.tasks.splice(e,1),this.filterByCriteria(this.searchCriteria),this.toastService.showSuccess(O.a.delete)},()=>{this.toastService.showFail()})}saveTask(t){this.servicesTask.saveTask(t).subscribe(t=>{this.resetFormSubject$.next(!0),this.tasks.push(t),this.filterByCriteria(this.searchCriteria),this.toastService.showSuccess(O.a.add)},()=>{this.toastService.showFail()})}refreshTask(){this.filteredTasks=this.filteredSearchTasks.slice((this.page-1)*this.pageSize,(this.page-1)*this.pageSize+this.pageSize)}getTasks(){this.servicesTask.getTasks().subscribe(t=>{this.tasks=t,this.filteredSearchTasks=t,this.refreshTask()},()=>{this.toastService.showFail()})}searchInputEventInit(){Object(o.a)(this.searchInput.nativeElement,"keyup").pipe(Object(r.a)(this.destroy$),function(t,e=l.a){return n=>n.lift(new h(t,e))}(250),Object(g.a)(t=>t.target.value),Object(p.a)()).subscribe(t=>{this.searchCriteria=t,this.filterByCriteria(t)})}filterByCriteria(t){this.filteredSearchTasks=t?this.tasks.filter(e=>e.title.toLowerCase().includes(t.toLowerCase())):this.tasks,this.refreshTask()}}return t.\u0275fac=function(e){return new(e||t)(C.Jb(k),C.Jb(P.a))},t.\u0275cmp=C.Db({type:t,selectors:[["app-task"]],viewQuery:function(t,e){var n;1&t&&C.Ac(m,!0),2&t&&C.mc(n=C.ac())&&(e.searchInput=n.first)},decls:33,vars:7,consts:[[3,"resetForm","createNewTask"],[1,"container"],[1,"row","title-search"],[1,"col-12","col-md-6","title-list"],[1,"title"],[1,"bi","bi-card-checklist"],[1,"col-12","col-md-6","search"],[1,"input-group"],["type","text","placeholder","Buscar...",1,"form-control"],["searchInput",""],[1,"input-group-append"],["type","button",1,"btn","btn-outline-secondary","btn-button"],[1,"bi","bi-search"],[1,"row"],[1,"col-12","table-task"],[1,"table","table-striped"],["scope","col",1,"table-title"],[4,"ngFor","ngForOf"],[1,"pagination"],[3,"collectionSize","page","maxSize","rotate","pageSize","pageChange"],["ngbPaginationPrevious",""],["ngbPaginationNext",""],["scope","row",1,"text-center","table-elements"],[1,"table-elements","title",3,"ngClass"],[1,"table-select","table-elements"],["type","checkbox",1,"form-check-input",3,"checked","change"],[1,"table-icon","table-elements"],[1,"bi","bi-trash","delete",3,"click"],[1,"bi","bi-chevron-left"],[1,"bi","bi-chevron-right"]],template:function(t,e){1&t&&(C.Ob(0,"app-add-task",0),C.Zb("createNewTask",(function(t){return e.saveTask(t)})),C.Nb(),C.Ob(1,"div",1),C.Ob(2,"div",2),C.Ob(3,"div",3),C.Ob(4,"span",4),C.Kb(5,"i",5),C.wc(6," Lista de tareas "),C.Nb(),C.Nb(),C.Ob(7,"div",6),C.Ob(8,"div",7),C.Kb(9,"input",8,9),C.Ob(11,"div",10),C.Ob(12,"button",11),C.Kb(13,"i",12),C.Nb(),C.Nb(),C.Nb(),C.Nb(),C.Nb(),C.Ob(14,"div",13),C.Ob(15,"div",14),C.Ob(16,"table",15),C.Ob(17,"thead"),C.Ob(18,"tr"),C.Ob(19,"th",16),C.wc(20,"Id"),C.Nb(),C.Ob(21,"th",16),C.wc(22,"Mis tareas"),C.Nb(),C.Ob(23,"th",16),C.wc(24,"Completada"),C.Nb(),C.Ob(25,"th",16),C.wc(26,"Borrar"),C.Nb(),C.Nb(),C.Nb(),C.Ob(27,"tbody"),C.uc(28,x,9,6,"tr",17),C.Nb(),C.Nb(),C.Ob(29,"div",18),C.Ob(30,"ngb-pagination",19),C.Zb("pageChange",(function(t){return e.page=t}))("pageChange",(function(){return e.refreshTask()})),C.uc(31,w,1,0,"ng-template",20),C.uc(32,N,1,0,"ng-template",21),C.Nb(),C.Nb(),C.Nb(),C.Nb(),C.Nb()),2&t&&(C.gc("resetForm",e.resetFormSubject$.asObservable()),C.xb(28),C.gc("ngForOf",e.filteredTasks),C.xb(2),C.gc("collectionSize",null==e.filteredSearchTasks?null:e.filteredSearchTasks.length)("page",e.page)("maxSize",3)("rotate",!0)("pageSize",e.pageSize))},directives:[M.a,s.j,_.b,_.e,_.d,s.i],styles:[".container[_ngcontent-%COMP%]{padding:15px}.container[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{padding-bottom:15px;color:#4b9f8e;font-weight:700;text-align:center}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding-bottom:15px}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-color:#01ceb6;border-top-left-radius:30px;border-bottom-left-radius:30px;border-right:none}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .btn-button[_ngcontent-%COMP%]{border-color:#01ceb6;color:#01ceb6;border-top-right-radius:30px;border-bottom-right-radius:30px;border-left:none}.container[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]   .btn-button[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]:before{transform:scaleX(-1)}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]{overflow:auto;padding:0}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-title[_ngcontent-%COMP%]{color:#4b9f8e;text-align:center}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .font-line[_ngcontent-%COMP%]{text-decoration:line-through}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%]{color:#707070}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-select[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-select[_ngcontent-%COMP%]   .form-check-input[_ngcontent-%COMP%]{position:relative;margin:0}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-icon[_ngcontent-%COMP%]{text-align:center}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-icon[_ngcontent-%COMP%]   .delete[_ngcontent-%COMP%]{color:#f50707;cursor:pointer}.container[_ngcontent-%COMP%]   .pagination[_ngcontent-%COMP%]{justify-content:center}@media screen and (min-width:768px){.container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]{padding-top:20px}.container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .search[_ngcontent-%COMP%]{padding-right:0}.container[_ngcontent-%COMP%]   .title-search[_ngcontent-%COMP%]   .title-list[_ngcontent-%COMP%]{text-align:left}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-select[_ngcontent-%COMP%]{margin:0;position:relative}.container[_ngcontent-%COMP%]   .table-task[_ngcontent-%COMP%]   .table-elements[_ngcontent-%COMP%]{text-align:center}}"]}),t})()}];let S=(()=>{class t{}return t.\u0275mod=C.Hb({type:t}),t.\u0275inj=C.Gb({factory:function(e){return new(e||t)},imports:[[c.a.forChild(T)],c.a]}),t})(),y=(()=>{class t{}return t.\u0275mod=C.Hb({type:t}),t.\u0275inj=C.Gb({factory:function(e){return new(e||t)},imports:[[s.b,S,i.a]]}),t})()}}]);